<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Registration</ion-title>
  </ion-navbar>
</ion-header>
<ion-content padding>

  <form [formGroup] = "registrationForm">
    <ion-item>
      <ion-label floating>Uporabniško ime</ion-label>
      <ion-input [formControl]="registrationForm.controls['userName']"></ion-input>
    </ion-item>
    <div class="error" *ngIf="registrationForm.get('userName').hasError('required') && registrationForm.get('userName').touched">
      Uporabniško ime obvezno
    </div>

    <div class="error" *ngIf="registrationForm.get('userName').hasError('pattern') && registrationForm.get('userName').touched">
      Uporabniško ime mora vsebovati samo črke!
    </div>

    <div class="error" *ngIf="registrationForm.get('userName').hasError('minLength') && registrationForm.get('userName').touched">
      Minimalna razdalja je 6
    </div>

    <ion-item>
      <ion-label floating>Geslo</ion-label>
      <ion-input type="password" [formControl]="registrationForm.controls['password']"></ion-input>
    </ion-item>

    <div class="error" *ngIf="registrationForm.get('password').hasError('required') && registrationForm.get('password').touched">
      Vnesite geslo!
    </div>
    <div class="error" *ngIf="registrationForm.get('password').hasError('minLength') && registrationForm.get('password').touched">
      Geslo mora biti dolgo vsaj 6 znakov!
    </div>

    <ion-item>
      <ion-label floating>Email</ion-label>
      <ion-input type="email" [formControl]="registrationForm.controls['email']"></ion-input>
    </ion-item>

    <div class="error" *ngIf="registrationForm.get('email').hasError('required') && registrationForm.get('email').touched">
      Vnesite e-poštni naslov!
    </div>
    <div class="error" *ngIf="registrationForm.get('email').hasError('pattern') && registrationForm.get('email').touched">
      Ni veljaven poštni naslov!
    </div>

    <ion-item>
      <ion-label floating>Ime</ion-label>
      <ion-input  [formControl]="registrationForm.controls['name']"></ion-input>
    </ion-item>

    <div class="error" *ngIf="registrationForm.get('name').hasError('required') && registrationForm.get('name').touched">
      Vnesite ime!
    </div>
    <div class="error" *ngIf="registrationForm.get('name').hasError('pattern') && registrationForm.get('name').touched">
      Dovoljene samo črke
    </div>
    <div class="error" *ngIf="registrationForm.get('name').hasError('mingLength') && registrationForm.get('name').touched">
      Minimalna dolžina je črke je 3
    </div>

    <ion-item>
      <ion-label floating>Priimek</ion-label>
      <ion-input  [formControl]="registrationForm.controls['surname']"></ion-input>
    </ion-item>

    <div class="error" *ngIf="registrationForm.get('surname').hasError('required') && registrationForm.get('surname').touched">
      Vnesite priimek!
    </div>
    <div class="error" *ngIf="registrationForm.get('surname').hasError('pattern') && registrationForm.get('surname').touched">
      Dovoljene samo črke
    </div>
    <div class="error" *ngIf="registrationForm.get('surname').hasError('mingLength') && registrationForm.get('surname').touched">
      Minimalna dolžina je črke je 3
    </div>

    <ion-item>
      <ion-label floating>Telefonska številka</ion-label>
      <ion-input  [formControl]="registrationForm.controls['phoneNumber']"></ion-input>
    </ion-item>

    <div class="error" *ngIf="registrationForm.get('phoneNumber').hasError('required') && registrationForm.get('phoneNumber').touched">
      Vnesite telefonsko številko!
    </div>
    <div class="error" *ngIf="registrationForm.get('phoneNumber').hasError('pattern') && registrationForm.get('phoneNumber').touched">
      Dovoljena samo številka
    </div>
    <div class="error" *ngIf="registrationForm.get('phoneNumber').hasError('minLength') && registrationForm.get('phoneNumber').touched">
      Minimalna dolžina je 6, maksimalna 9
    </div>
    <div class="error" *ngIf="registrationForm.get('phoneNumber').hasError('maxLength') && registrationForm.get('phoneNumber').touched">
      Minimalna dolžina je 6, maksimalna 9
    </div>


    <ion-item>
      <ion-label floating>Vloga</ion-label>
      <ion-select  [formControl]="registrationForm.controls['role']">
        <ion-option>Pomočnik</ion-option>
        <ion-option>Čuvaj</ion-option>
        <ion-option>Mojster</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label floating>Lovska družina</ion-label>
      <ion-select [formControl]="registrationForm.controls['druzina']">
        <ion-option *ngFor="let druzina of lovskeDruzine" [value]="druzina.id">{{druzina.naziv}}</ion-option>
      </ion-select>
    </ion-item>

    <ion-row>
      <ion-col text-center>
        <button type="submit" ion-button block color="secondary" (click)="onRegister()">
          Registriraj
        </button>
      </ion-col>
    </ion-row>
  </form>
</ion-content>
